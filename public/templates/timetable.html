<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Расписание группы 1-Тив-2</title>
    <style>
        body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
    background-color: #f4f4f4;
}

h1, h2 {
    text-align: center;
}

.container {
    display: flex;
    justify-content: center;
    margin-bottom: 20px;
}

label {
    font-weight: bold;
}

input[type="date"],
input[type="text"],
input[type="time"] {
    margin-bottom: 10px;
    padding: 5px;
    width: 200px;
}

form {
    margin-top: 20px;
    text-align: center;
}

button {
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    margin-top: 10px;
}

button:hover {
    background-color: #0056b3;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

th, td {
    padding: 10px;
    border: 1px solid #ddd;
    text-align: center;
}

th {
    background-color: #007bff;
    color: white;
}

td {
    background-color: #f9f9f9;
}

        
    </style>
</head>
<body>

    <h1>Расписание группы 1-Тив-2</h1>

    <!-- Форма для выбора даты -->
    <div class="container">
        <label for="date">Выберите дату:</label>
        <input type="date" id="date" value="">
    </div>

    <!-- Таблица расписания -->
    <table id="schedule-table">
        <thead>
            <tr>
                <th>Дисциплина</th>
                <th>Время начала</th>
                <th>Аудитория</th>
                <th>Преподаватель</th>
                <th>Место проведения</th>
            </tr>
        </thead>
        <tbody>
            <!-- Данные расписания будут добавляться сюда через JS -->
        </tbody>
    </table>

    <!-- Форма для добавления нового расписания -->
    <h2>Добавить запись</h2>
    <form id="schedule-form">
        <label for="subject">Название дисциплины:</label>
        <input type="text" id="subject" required><br>

        <label for="start-time">Время начала:</label>
        <input type="time" id="start-time" required><br>

        <label for="room">Аудитория:</label>
        <input type="text" id="room" required><br>

        <label for="teacher">Имя преподавателя:</label>
        <input type="text" id="teacher" required><br>

        <label for="location">Адрес:</label>
        <input type="text" id="location" required><br>

        <button type="submit">Добавить запись</button>
    </form>

    <script>
        // Получаем элементы
const dateInput = document.getElementById('date');
const scheduleTableBody = document.querySelector('#schedule-table tbody');
const scheduleForm = document.getElementById('schedule-form');

// Функция для загрузки расписания из LocalStorage
function loadSchedule(date) {
    const schedule = JSON.parse(localStorage.getItem(date)) || [];
    renderSchedule(schedule);
}

// Функция для отображения расписания в таблице
function renderSchedule(schedule) {
    scheduleTableBody.innerHTML = ''; // Очистка таблицы
    schedule.forEach(entry => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${entry.subject}</td>
            <td>${entry.startTime}</td>
            <td>${entry.room}</td>
            <td>${entry.teacher}</td>
            <td>${entry.location}</td>
        `;
        scheduleTableBody.appendChild(row);
    });
}

// Обработчик изменения даты
dateInput.addEventListener('change', () => {
    const selectedDate = dateInput.value;
    loadSchedule(selectedDate);
});

// Обработчик отправки формы для добавления новой записи
scheduleForm.addEventListener('submit', (event) => {
    event.preventDefault();

    // Получение данных из формы
    const subject = document.getElementById('subject').value;
    const startTime = document.getElementById('start-time').value;
    const room = document.getElementById('room').value;
    const teacher = document.getElementById('teacher').value;
    const location = document.getElementById('location').value;
    const date = dateInput.value;

    if (!date) {
        alert('Выберите дату перед добавлением записи.');
        return;
    }

    // Создание новой записи
    const newEntry = { subject, startTime, room, teacher, location };

    // Получение текущего расписания для выбранной даты из LocalStorage
    const schedule = JSON.parse(localStorage.getItem(date)) || [];

    // Добавление новой записи в расписание
    schedule.push(newEntry);

    // Сохранение обновленного расписания в LocalStorage
    localStorage.setItem(date, JSON.stringify(schedule));

    // Обновление отображения расписания
    loadSchedule(date);

    // Очистка формы
    scheduleForm.reset();
});

// Установка текущей даты по умолчанию
dateInput.value = new Date().toISOString().split('T')[0];
loadSchedule(dateInput.value);
        
    </script>
</body>
</html>
